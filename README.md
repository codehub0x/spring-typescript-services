# spring-typescript-services [![Build Status](https://travis-ci.org/mkowalzik/spring-typescript-services.svg?branch=master)](https://travis-ci.org/mkowalzik/spring-typescript-services) [![Coverity Scan Build Status](https://scan.coverity.com/projects/10040/badge.svg)](https://scan.coverity.com/projects/mkowalzik-spring-typescript-services)
Generate typescript services and type interfaces from spring annotated @RestControllers.

Get strongly typed interfaces for your spring-boot microservices in no time.

# What is it?
A Java annotation processor to generate a service and TypeScript types to access your spring @RestControllers.

# How does it work?
It generates a service.ts file for every with @TypeScriptEndpoint annotated class and includes functions 
for every enclosed public Java Method with a @RequestMapping producing JSON.
The TypeScript files are generated by populating [<#FREEMARKER>][freemarker]-template files. 
You can specify your own template files or use the bundled defaults.

# Getting started
Just specify the dependency in your maven based build.

```xml
<dependency>
    <groupId>org.leandreck.endpoints</groupId>
    <artifactId>annotations</artifactId>
    <scope>provided</scope> <!-- the annotations and processor are only needed at compile time -->
    <optional>true</optional> <!-- they need not to be transitively included in dependent artifacts -->
</dependency>
<!-- * because of spring-boot dependency handling they nevertheless get included in fat jars -->
```

# Example
The following snippet will produce a TestTypeScriptEndpoint.ts and a RootType.model.ts file.
```java
import org.leandreck.endpoints.annotations.TypeScriptEndpoint;
import org.springframework.http.*;
import org.springframework.web.bind.annotation.*;
//...
import static org.springframework.web.bind.annotation.RequestMethod.*;

@TypeScriptEndpoint
@RestController
@RequestMapping("/api")
public class TestTypeScriptEndpoint {

    @RequestMapping(value = "/persons", method = GET, produces = MediaType.APPLICATION_JSON_VALUE)
    public @ResponseBody List<RootType> getPersons() {
        final List<RootType> rootTypes = new ArrayList<>();
        rootTypes.add(new RootType());
        return rootTypes;
    }
```
and the produced TypeScript files from the default templates look like:

```typescript
import { IRootType } from './IRootType.model';
import { Injectable } from '@angular/core';
import { Http, Response } from '@angular/http';

@Injectable()
export class TestTypeScriptEndpoint {

    private serviceBaseURL = '/api'
    
    constructor(private _http: Http) { }

    get_getPersons(): IRootType[] {
    return this._http.get(this.serviceBaseURL + '/persons')
        .map((res: Response) => res.json())
        .catch(this.handleError);
    }
```

[freemarker]: http://freemarker.org/